{% extends "base.html" %}

{% import "macros/form.html" as Form %}
{% import "macros/element.html" as Element %}

{% set title = _('What is your problem?') %}
{% block page_title %}{{ title }} - {{ super() }}{% endblock %}

{% block inner_content %}
  {% block page_text %}
    {% if error %}
      {% call Element.alert() %}
        <p>{{ _('Something went wrong while analysing your problem, please try again.') }}</p>
      {% endcall %}
    {% endif %}
    <h1>{{ title }}</h1>
  {% endblock %}

  <form method="POST" action="{{ url_for('scope.diagnosis') }}">
    {{ form.csrf_token }}
    {{ Form.handle_errors(form) }}

    {% call Form.fieldset(form.problem, as_label=True) %}
      {{ form.problem(class_='form-control m-full', rows=7) }}
    {% endcall %}

    {{ Form.honeypot(form) }}
    {{ Form.actions(_('Submit')) }}
  </form>
{% endblock %}
