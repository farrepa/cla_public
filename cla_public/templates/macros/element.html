{#
  Generic alert element

  Params:
    - type <string> (default: info)
        Type of alert (sets CSS class `alert-{type}`)
    - icon <string> (default: none)
        Alert icon (sets CSS class `icon-{icon}`)
    - title <string> (default: None)
        Alert title
    - role <string> (default: None)
        ARIA role
#}
{% macro notice(type='info', icon=None, title=None, role=None) %}
  <div class="notice notice-{{type}}"
    {% if role %}role="{{ role }}"{% endif %}
    {% if title %}aria-labelledby="notice-heading-{{type}}"{% endif %}
  >
    {% if icon %}
      <span class="icon icon-{{icon}}" aria-hidden="true"></span>
    {% endif %}
    <div class="notice-content">
      {% if title %}
        <h3 class="notice-header" id="notice-heading-{{type}}">{{ _(title) }}</h3>
      {% endif %}
      {{ caller() }}
    </div>
  </div>
{% endmacro %}


{#
  'get in touch' link to contact page
#}
{% macro get_in_touch_link() %}
  <p class="divider-block">
    {{ _('If youâ€™re having trouble completing this form') }},
    <a href="{{ url_for('base.reasons_for_contacting') }}" id="callback-link">{{ _('get in touch') }}</a>.
  </p>
{% endmacro %}

{#
  Prompt to complete the satisfaction survey on gov.uk
#}
{%  macro satisfaction_survey_prompt() %}
  {% call notice(title=_('What do you think about this service?')) %}
    <p>
      {% trans %}Your feedback will improve this service.
      Please <a href="https://www.gov.uk/done/check-if-civil-legal-advice-can-help-you">send us your thoughts</a>.{% endtrans %}
    </p>
  {% endcall %}
{% endmacro %}


{#
  Progress bar

  Params:
    - current <Number>
    - completed <Number>
#}

{%  macro progress_bar(current, completed, offset=-5) %}
  {% if current is number or completed is number %}
    <div class="progress-bar">
      {% if completed %}
        <div class="progress-value m-completed" style="width:{{ completed + offset }}%;"></div>
      {% endif %}
      {% if current %}
        <div class="progress-value m-current" style="left:{{ current + offset }}%;"></div>
      {% endif %}
    </div>
  {% endif %}
{% endmacro %}
