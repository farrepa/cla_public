{% extends "base.html" %}

{% import "macros/form.html" as Form %}
{% import "macros/element.html" as Element %}

{% block page_heading %}
  Request a callback
{% endblock %}

{% block inner_content %}
  {% block page_text %}
    <p>
      Fill in your personal details to get a callback from Civil Legal Advice and see if you qualify for specialist
      advice on Debt, Education, Discrimination, Housing or Family problems funded by legal aid.
    </p>
    <p>
      We will try and call you at least once. If we cannot speak to you we will leave you a message.
    </p>
    <p>
      If you don't want us to leave a message please tell us.
    </p>
    <p>
      If we can't speak to you please book another call back here or call us.
    </p>
  {% endblock %}

  <form method="POST" action="{{ url_for('.result', outcome='eligible') }}">
    {{ form.csrf_token }}
    {{ Form.handle_errors(form) }}

    {{ Form.text_field(form.full_name, class_='m-large') }}
    {% call Form.text_field(form.contact_number, subfield=form.safe_to_contact, class_='m-large') %}
      {{ Form.yesno_field(form.safe_to_contact, group_class='form-subfield') }}
      <p style="margin: 10px 0 0">
        If you donâ€™t have a number we can call you on, please contact
        <a href="https://www.gov.uk/civil-legal-advice" target="_blank">Civil Legal Advice</a>.
      </p>
    {% endcall %}

    {{ Form.postcode_field(form.post_code, attributes={'data-address-el': '#address'}) }}

    {{ Form.textarea_field(form.address) }}
    {{ Form.textarea_field(form.extra_notes, class_='m-full') }}
    {{ Form.adaptations_field(form.adaptations) }}
    {{ Form.availability_checker_field(form.time) }}

    {% call Element.alert(title='What happens next') %}
      <p>
        If the operator you speak to thinks you can get legal aid, they will
        find you specialist legal help, like a phone call with a solicitor or
        support from a family mediation service.
      </p>
    {% endcall %}

    {{ Form.honeypot(form) }}
    {{ Form.actions('Request callback') }}
  </form>
{% endblock %}
