{% load i18n %}
{% if form %}
  <section>
    <h2 id="{{form.prefix}}-label" class="FormBlock-label">{% trans fieldset_label %}</h2>

    <div class="FormBlock FormBlock--grey" aria-labelledby="{{form.prefix}}-label" role="group">
      <div class="FormRow cf{% if form.earnings.errors %} Error{% endif %}">
        <label for="{{ form.earnings.id_for_label }}" id="{{ form.earnings.auto_id }}-label">
          <span class="FormRow-label">
            {{ form.earnings.label }}
            {% for error in form.earnings.errors %}
              <span class="Error-message">{{ error }}</span>
            {% endfor %}
          </span>
          <span class="FormRow-prefix">&pound;</span>
          {{ form.earnings }}
        </label>
      </div>

      <div class="FormRow cf{% if form.other_income.errors %} Error{% endif %}">
        <label for="{{ form.other_income.id_for_label }}" id="{{ form.other_income.auto_id }}-label">
          <span class="FormRow-label">
            {{ form.other_income.label }}
            {% for error in form.other_income.errors %}
              <span class="Error-message">{{ error }}</span>
            {% endfor %}
          </span>
          <span class="FormRow-prefix">&pound;</span>
          {{ form.other_income }}
        </label>
      </div>

      <div class="FormRow cf{% if form.self_employed.errors %} Error{% endif %}" role="radiogroup" aria-labelledby="{{ form.self_employed.auto_id }}-label">
        <p class="FormRow-label" id="{{ form.self_employed.auto_id }}-label">
          {{ form.self_employed.label }}
          {% for error in form.self_employed.errors %}
            <span class="Error-message">{{ error }}</span>
          {% endfor %}
        </p>
        
        {% for choice in form.self_employed.field.choices %}
        <label for="{{ form.self_employed.auto_id }}_{{ forloop.counter0 }}" class="FormRow-option">
          <input type="radio" name="{{ form.self_employed.html_name }}" id="{{ form.self_employed.auto_id }}_{{ forloop.counter0 }}" value="{{ choice.0 }}"{% if form.self_employed.value|stringformat:"s" == choice.0|stringformat:"s" %} checked="checked"{% endif %}>
          {{ choice.1 }}
        </label>
        {% endfor %}
      </div>
    </div>
  </section>
{% endif %}
